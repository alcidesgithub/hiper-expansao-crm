# Environment template: PRODUCTION (Coolify / Docker Compose)
# Use these keys in your production environment variables panel.

# Database
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="<strong_password>"
POSTGRES_DB="hiperfarma_crm"
DATABASE_URL="postgresql://postgres:<strong_password>@postgres:5432/hiperfarma_crm?schema=public"

# Redis (required in production)
REDIS_URL="redis://redis:6379"

# Authentication (NextAuth)
AUTH_SECRET="<strong_random_secret>"
NEXTAUTH_SECRET="<same_as_auth_secret>"
NEXTAUTH_URL="https://crm.seudominio.com"
AUTH_TRUST_HOST="true"

# App URL
NEXT_PUBLIC_APP_URL="https://crm.seudominio.com"

# Health endpoint token (recommended)
HEALTHCHECK_TOKEN="<strong_random_health_token>"

# Email (Resend)
RESEND_API_KEY="<resend_api_key>"
RESEND_FROM_EMAIL="naoresponda@seudominio.com"

# Microsoft Teams integration (optional)
# Alternative names accepted: MICROSOFT_TENANT_ID, MICROSOFT_CLIENT_ID, MICROSOFT_CLIENT_SECRET
MS_TEAMS_CLIENT_ID=""
MS_TEAMS_CLIENT_SECRET=""
MS_TEAMS_TENANT_ID=""
MS_TEAMS_GRAPH_SCOPE="https://graph.microsoft.com/.default"
MS_TEAMS_WEBHOOK_URL="https://crm.seudominio.com/api/integrations/teams/webhook"
MS_TEAMS_WEBHOOK_CLIENT_STATE="<strong_random_client_state_min_32_chars>"
TEAMS_SYNC_CRON_TOKEN="<strong_random_sync_token>"

# Seed password (required by migrate job in production)
# Enable seed only for first bootstrap or explicit maintenance runs
RUN_DB_SEED="false"
SEED_DEFAULT_PASSWORD="<strong_password_12_plus_chars>"

# Storage
UPLOAD_DIR="/app/uploads"

# Environment
NODE_ENV="production"

# Optional perf tuning (permissions cache in ms)
ROLE_PERMISSIONS_CACHE_TTL_MS="60000"

# Optional perf tuning (dashboard analytics cache in seconds)
DASHBOARD_ANALYTICS_REVALIDATE_SEC="60"

SLA_CRON_TOKEN="<strong_sla_cron_token>"
